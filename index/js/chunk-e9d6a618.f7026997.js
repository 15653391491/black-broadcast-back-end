(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9d6a618"],{"176d":function(t,e,a){},4501:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,30,40],"page-size":t.pageSize,layout:t.layout,total:t.total,"pager-count":t.pagerCount,background:t.background},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})},n=[],l={props:{pageSize:{type:Number,default:10},total:{type:Number,default:100},pagerCount:{type:Number,default:9},resetFlag:{type:Boolean,default:!1},background:{type:Boolean,default:!1},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"}},watch:{resetFlag:function(){this.currentPage=1}},data:function(){return{currentPage:1,currentSize:10}},methods:{currentChange:function(t){var e={currentPage:t,pageSize:this.currentSize};this.$emit("currentChange",e),this.currentPage=t},sizeChange:function(t){var e={currentPage:this.currentPage,pageSize:t};this.$emit("currentChange",e),this.currentSize=t}}},o=l,r=a("2877"),s=Object(r["a"])(o,i,n,!1,null,null,null);e["a"]=s.exports},"4b44":function(t,e,a){"use strict";function i(t){var e={map:t},a=new AMap.TileLayer.Satellite(e);return a.show(),a}function n(t){t.hide()}function l(t){t.show()}a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return l}))},"4dd8":function(t,e,a){},"625c":function(t,e,a){"use strict";a("a955")},"6ac5":function(t,e,a){},"6b59":function(t,e,a){"use strict";a("4dd8")},"8db0":function(t,e,a){"use strict";a("176d")},a955:function(t,e,a){},a96d:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:18}},[a("ElCard",{staticStyle:{height:"28vh"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("查询条件")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:t.resettingSelectOption}},[t._v(" 重置查询条件 ")])],1),a("SelectForm",{attrs:{Reset:t.resettingFlag},on:{selectChange:t.selectChange}})],1)],1),a("el-col",{attrs:{span:6}},[a("ElCard",{staticStyle:{height:"28vh"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("发现位置")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(e){t.isMapVisiable=!0}}},[t._v("放大 ")]),a("el-switch",{staticStyle:{float:"right","margin-right":".5vw"},attrs:{"inactive-text":"卫星图"},model:{value:t.showSatelite,callback:function(e){t.showSatelite=e},expression:"showSatelite"}})],1),a("el-row",{staticStyle:{height:"20vh"}},[a("Map",{attrs:{mark:t.mark,mapInfo:t.mapSetting,showSatelite:t.showSatelite}})],1)],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"1vh"}},[a("ElCard",{staticStyle:{height:"auto"}},[a("span",{attrs:{slot:"header"},slot:"header"},[t._v("黑广播列表")]),a("Table",{attrs:{needSelect:t.needSelect,selectForm:t.selectForm},on:{rowClick:t.tableRowClick}})],1)],1),a("Dialog",{attrs:{visiable:t.isMapVisiable,info:{title:"查看地图",width:"75%"}},on:{close:function(e){t.isMapVisiable=!1}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("查看地图")]),a("el-switch",{staticStyle:{float:"right","margin-right":"2vw"},attrs:{"inactive-text":"卫星图"},model:{value:t.showSateliteDialog,callback:function(e){t.showSateliteDialog=e},expression:"showSateliteDialog"}})],1),a("el-row",{staticStyle:{height:"65vh"}},[a("Map",{attrs:{mark:t.mark,mapInfo:t.mapSetting,showSatelite:t.showSateliteDialog}})],1)],1)],1)},n=[],l=a("c14a"),o=a("2825"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-contant"},[t._t("default")],2)},s=[],c=a("8e8d"),u=a("4b44");function d(){return{drawPositionPoint:!1,pointStyle:{fillStyle:"red",width:15,height:15},pointHoverStyle:{content:"none",width:15,height:15},hoverTitleStyle:{position:"top",ClassName:"hovertitle"}}}function h(t,e,a){AMapUI.loadUI(["misc/PointSimplifier"],(function(i){i.supportCanvas&&m(i,t,e,a)}))}function m(t,e,a,i){var n=new t({map:e,getPosition:function(t){return t.lnglat},getHoverTitle:function(t){return t.markName},renderOptions:d(),zIndex:777,autoSetFitView:!1});i.pointSimplifierIns=n,n.setData(a),n.on("pointClick",(function(t,e){i.$emit("clickSpot",e.data)})),e.setCenter(a[0].lnglat)}function f(t,e,a){a.pointSimplifierIns.setData(e),t.setCenter(e[0].lnglat)}var p={mixins:[c["a"]],data:function(){return{Satellite:void 0}},mounted:function(){this.showSatelite&&(this.Satellite=Object(u["a"])(this.map)),h(this.map,[this.mark],this)},props:{mark:{type:Object,default:function(){return{lnglat:[116.344446,39.919251],markName:"坐标四"}}},showSatelite:{type:Boolean,default:!0}},watch:{mark:function(t){void 0===t.lnglat&&(this.map.setCenter(this.mapInfo.center),this.map.setZoom(this.mapInfo.zoom)),f(this.map,[t],this)},showSatelite:function(t){t?Object(u["c"])(this.Satellite):Object(u["b"])(this.Satellite)}}},g=p,b=(a("8db0"),a("2877")),v=Object(b["a"])(g,r,s,!1,null,"c0fd6904",null),y=v.exports,S=a("7281"),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",[a("el-form",{attrs:{inline:"","label-position":"left"}},[a("el-form-item",{attrs:{label:"黑广播种类"}},[a("Select",{attrs:{flushFlag:t.resettingFlag,options:t.categoryOption},on:{SelectChange:t.blackBoardcategoryChange}})],1),a("el-form-item",{attrs:{label:"上报设备"}},[a("Select",{attrs:{flushFlag:t.resettingFlag,options:t.mobileOption},on:{SelectChange:t.mobileChange}})],1),a("el-form-item",{attrs:{label:"搜索频点"}},[a("el-input",{staticStyle:{width:"175px"},attrs:{size:"mini",placeholder:"请输入频点"},on:{input:t.freqChange},model:{value:t.freq,callback:function(e){t.freq=e},expression:"freq"}})],1)],1)],1),a("el-row",[a("el-form",{attrs:{inline:""}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{staticStyle:{width:"175px"},attrs:{size:"mini",type:"datetime",placeholder:"选择开始时间","default-time":"12:00:00"},on:{change:function(e){return t.timeRangeChange(1)}},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{staticStyle:{width:"175px"},attrs:{size:"mini",type:"datetime",placeholder:"选择结束时间","default-time":"12:00:00"},on:{change:function(e){return t.timeRangeChange(2)}},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.submitForm}},[t._v("查询 ")])],1)],1)],1)],1)},C=[],k=a("ac8b"),_=a("ce83"),F={components:{Select:k["a"]},data:function(){return{resettingFlag:!1,category:void 0,mobile:void 0,freq:void 0,startTime:void 0,endTime:void 0,timeRange:["",""],categoryOption:[{value:0,label:"全部"},{value:1,label:"未知"},{value:2,label:"假药"},{value:3,label:"虚假信息"},{value:4,label:"政治反动"},{value:5,label:"恐怖主义"},{value:6,label:"淫秽色情"}],mobileOption:[{value:0,label:"全部"}]}},props:{Reset:{type:Boolean,default:!1}},watch:{Reset:function(){this.resettingSelectOption()}},created:function(){this.getBlackBoardInfo()},methods:{getBlackBoardInfo:function(){var t=this;Object(_["c"])().then((function(e){t.mobileOption=e.data.data.mobile}))},resettingSelectOption:function(){this.category=void 0,this.mobile=void 0,this.freq=void 0,this.startTime=void 0,this.endTime=void 0,this.resettingFlag=!this.resettingFlag},blackBoardcategoryChange:function(t){this.category=t},mobileChange:function(t){this.mobile=t},freqChange:function(t){this.freq=t},timeRangeChange:function(t){if(void 0===this.startTime||void 0===this.endTime)return 0;var e=new Date(this.startTime),a=new Date(this.endTime);if(e.getTime()>=a.getTime()&&void 0!==this.endTime&&null!==this.endTime){switch(this.$message("开始时间必须早于结束时间!"),t){case 1:this.startTime=void 0;break;case 2:this.endTime=void 0;break;default:break}return 0}},submitForm:function(){var t={category:0===this.category?void 0:this.category,mobile:0===this.mobile?void 0:this.mobile,freq:""===this.freq?void 0:this.freq,s_time:this.formatTime(this.startTime),e_time:this.formatTime(this.endTime)};this.$emit("selectChange",t)},formatTime:function(t){if(void 0!==t&&null!==t){var e=new Date(t);return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()," ").concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds())}}}},O=F,x=(a("bd59"),Object(b["a"])(O,w,C,!1,null,null,null)),T=x.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,"cell-style":{height:".1vh",padding:"1px"},"row-style":{height:".1vh"},"header-cell-style":{height:".1vh",padding:"1px"},border:!0},on:{"row-click":t.rowClick}},[a("el-table-column",{attrs:{fixed:"",prop:"freq",label:"频点",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"音频",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{staticStyle:{color:"rgb(96, 98, 102)"},on:{click:function(a){return t.openAudioPlayer(e.row)}}},[a("i",{class:{"el-icon-error":!e.row.recordExist,"el-icon-video-play":e.row.recordExist}})])]}}])}),a("el-table-column",{attrs:{prop:"mobile__name",label:"上报设备",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"category__name",label:"种类",width:"100",align:"center"}}),a("el-table-column",{attrs:{prop:"time",label:"发现时间",width:"200",align:"center"}}),a("el-table-column",{attrs:{prop:"address",label:"发现地点",width:"280",resizable:!0,"show-overflow-tooltip":!0,align:"center"}}),a("el-table-column",{attrs:{prop:"monitor",label:"上报人",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"common",label:"备注",width:"120",align:"center"}}),a("el-table-column",{attrs:{prop:"contact",label:"广告联系方式",width:"120",align:"center"}}),a("el-table-column",{attrs:{label:"修改",width:"80",align:"center",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.editRow(e.row)}}},[t._v(" 修改 ")])]}}])})],1),a("Pagination",{staticStyle:{"margin-top":"1vh"},attrs:{resetFlag:t.resetFlag,total:t.total},on:{currentChange:t.currentChange}}),a("Dialog",{attrs:{visiable:t.isEditVisiable,info:{title:"黑广播信息审核",width:"25%"},top:"5%"},on:{close:function(e){t.isEditVisiable=!1}}},[a("EditForm",{attrs:{info:t.editForm},on:{editSucceed:t.editSucceed}})],1),a("Dialog",{attrs:{visiable:t.audioPlayerVisiable,info:{title:"音频播放",width:"25%"},top:"5%"},on:{close:function(e){t.audioPlayerVisiable=!1}}},[a("audio",{attrs:{controls:"",src:t.audioPath}},[t._v(" 您的浏览器不支持 audio 标签。 ")])])],1)},B=[],z=a("4501"),N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{label:"黑广播种类"}},[a("Select",{attrs:{options:t.broadCategoryOptions,selectValue:t.broadCategotyNum},on:{SelectChange:t.categoryChange}})],1),a("el-form-item",{attrs:{label:"该频点类型"}},[a("Select",{attrs:{options:t.freqCategoryOptions,selectValue:t.freqNum},on:{SelectChange:t.typeChange}})],1),a("el-form-item",{attrs:{label:"发现地点"}},[a("el-input",{staticStyle:{width:"12vw"},attrs:{size:"mini",placeholder:"请输入发现地点"},model:{value:t.address,callback:function(e){t.address=e},expression:"address"}})],1),a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{staticStyle:{width:"12vw"},attrs:{size:"mini",placeholder:"请输入联系方式"},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}})],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"12vw"},attrs:{size:"mini",placeholder:"请输入备注"},model:{value:t.common,callback:function(e){t.common=e},expression:"common"}})],1),a("el-row",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.editBlackBoard}},[t._v("提交 ")])],1)],1)},q=[],P={components:{Select:k["a"]},props:{info:{type:Object,default:function(){return{address:"",category__name:"",category__num:"",common:"",contact:"",freq:"",freq__num:"",id:"",lnglat:"",mobile__id:"",mobile__name:"",monitor:"",record:"",time:""}}},infoAddress:{type:String,default:""}},created:function(){this.address=this.info.address,this.broadCategotyNum=Number(this.info.category__num),this.freqNum=Number(this.info.freq__num),this.common=this.info.common,this.contact=this.info.contact,this.time=this.info.time,this.id=this.info.id},watch:{info:function(t){this.address=t.address,this.broadCategotyNum=Number(t.category__num),this.freqNum=Number(t.freq__num),this.common=t.common,this.contact=t.contact,this.time=t.time,this.id=t.id}},data:function(){return{broadCategoryOptions:[{value:1,label:"未知"},{value:2,label:"假药"},{value:3,label:"虚假信息"},{value:4,label:"政治反动"},{value:5,label:"恐怖主义"},{value:6,label:"淫秽色情"}],freqCategoryOptions:[{value:1,label:"普通频点"},{value:2,label:"区域频点"},{value:3,label:"干扰频点"},{value:4,label:"未知种类"},{value:5,label:"黑广播"}],address:"",category__name:"",broadCategotyNum:0,common:"",contact:"",freq:"",freqNum:0,id:"",lnglat:"",mobile__id:"",mobile__name:"",monitor:"",record:"",time:""}},methods:{editBlackBoard:function(){var t=this,e={id:this.id,category:this.broadCategotyNum,address:this.address,common:this.common,contact:this.contact,time:this.time,type:this.freqNum};Object(_["a"])(e).then((function(e){t.$message(e.data.msg),t.$emit("editSucceed")})).catch((function(t){console.error(t)}))},categoryChange:function(t){this.broadCategotyNum=t},typeChange:function(t){this.freqNum=t}}},D=P,E=Object(b["a"])(D,N,q,!1,null,"605a7e30",null),V=E.exports,$={components:{Pagination:z["a"],Dialog:o["a"],EditForm:V},methods:{getBlackBoard:function(){var t=this,e={page:this.page,limit:this.limit};this.loading=!0,Object(_["b"])(e).then((function(e){t.loading=!1,t.updateTableData(e.data.data),t.total=e.data.count})).catch((function(e){t.loading=!1,console.error(e)}))},selectBlackBoard:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i={page:a,limit:this.limit,msg:t};this.loading=!0,Object(_["e"])(i).then((function(t){e.loading=!1,e.updateTableData(t.data.data),e.total=t.data.count})).catch((function(t){e.loading=!1,console.error(t)}))},updateTableData:function(t){this.tableData=t},editRow:function(t){this.isEditVisiable=!0,this.editForm=t},currentChange:function(t){this.page=t.currentPage,this.limit=t.pageSize,this.needSelect?this.selectBlackBoard(this.selectForm,this.page):this.getBlackBoard()},editSucceed:function(){this.getBlackBoard(),this.isEditVisiable=!1,this.editFlag=!this.editFlag},rowClick:function(t){var e={lnglat:t.lnglat.split(","),markName:t.address};this.$emit("rowClick",e)},openAudioPlayer:function(t){t.recordExist&&(this.audioPlayerVisiable=!0,this.audioPath=t.record)}},data:function(){return{tableData:[],loading:!1,isEditVisiable:!1,audioPlayerVisiable:!1,total:100,page:1,limit:10,resetFlag:!1,editForm:{},audioPath:""}},created:function(){this.getBlackBoard()},props:{selectForm:{type:Object,default:function(){return{}}},needSelect:{type:Boolean,default:!1}},watch:{selectForm:function(t){this.resetFlag=!this.resetFlag,this.selectBlackBoard(t)}}},I=$,M=Object(b["a"])(I,j,B,!1,null,null,null),R=M.exports,A={components:{ElCard:l["a"],Map:y,Dialog:o["a"],SelectForm:T,Table:R},computed:{mapSetting:function(){return Object(S["a"])("brocast")}},data:function(){return{isMapVisiable:!1,resettingFlag:!1,selectForm:{},showSatelite:!0,showSateliteDialog:!0,needSelect:!1,mark:{}}},methods:{resettingSelectOption:function(){this.resettingFlag=!this.resettingFlag,this.needSelect=!1},tableRowClick:function(t){this.mark=t},selectChange:function(t){this.mark={},this.selectForm=t,this.needSelect=!0}}},H=A,J=(a("6b59"),Object(b["a"])(H,i,n,!1,null,null,null));e["default"]=J.exports},ac8b:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.options,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:Number(t.value)}})})),1)},n=[],l={data:function(){return{value:0}},props:{options:{type:Array,default:function(){return[{value:0,label:"全部"},{value:1,label:"黄金糕"},{value:2,label:"双皮奶"},{value:3,label:"蚵仔煎"},{value:4,label:"龙须面"},{value:5,label:"北京烤鸭"}]}},flushFlag:{type:Boolean,default:!1},selectValue:{type:Number,default:0}},watch:{value:function(t){this.$emit("SelectChange",t)},flushFlag:function(){this.value=this.selectValue},selectValue:function(t){this.value=t}},created:function(){this.value=this.selectValue}},o=l,r=a("2877"),s=Object(r["a"])(o,i,n,!1,null,"aa159834",null);e["a"]=s.exports},bd59:function(t,e,a){"use strict";a("6ac5")},c14a:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"card",attrs:{shadow:"hover","body-style":t.bodyStyle}},[a("span",{attrs:{slot:"header"},slot:"header"},[t._t("header")],2),t._t("default")],2)},n=[],l={props:{bodyStyle:{type:Object,default:function(){return{padding:"5px"}}}}},o=l,r=(a("625c"),a("2877")),s=Object(r["a"])(o,i,n,!1,null,null,null);e["a"]=s.exports},ce83:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"e",(function(){return l})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return s}));var i=a("981f");function n(t){return Object(i["a"])({url:"/d/broadcast/text",method:"get",params:t,headers:{"Content-Type":"application/json"}})}function l(t){return Object(i["a"])({url:"/d/broadcast/text",method:"post",data:t,headers:{"Content-Type":"application/json"}})}function o(t){return Object(i["a"])({url:"/d/broadcast/text",method:"patch",data:t,headers:{"Content-Type":"application/json"}})}function r(t){return Object(i["a"])({url:"/d/broadcast/region",method:"get",params:t,headers:{"Content-Type":"application/json"}})}function s(){return Object(i["a"])({url:"/d/broadcast/info",method:"get",headers:{"Content-Type":"application/json"}})}}}]);
//# sourceMappingURL=chunk-e9d6a618.f7026997.js.map